@if (isAuthenticated$()) {
  <mat-sidenav-container class="app-shell">

    <!-- SIDEBAR -->
    <mat-sidenav #sidenav mode="side" opened class="app-sidenav">
      <div class="sidenav-header">
        <div class="logo-circle">AI</div>
        <div class="logo-text">Business Analytics</div>
      </div>

      <nav class="sidenav-nav">

        <button mat-button class="nav-item" routerLink="/dashboard" routerLinkActive="active">
          <mat-icon>home</mat-icon>
          <span>Dashboard</span>
        </button>

        <button mat-button class="nav-item" routerLink="/sales" routerLinkActive="active">
          <mat-icon>bar_chart</mat-icon>
          <span>Prodeje</span>
        </button>

        <button mat-button class="nav-item" routerLink="/import" routerLinkActive="active">
          <mat-icon>file_upload</mat-icon>
          <span>Import</span>
        </button>

        <button mat-button class="nav-item" routerLink="/ai-chat" routerLinkActive="active">
          <mat-icon>smart_toy</mat-icon>
          <span>AI Dotazy</span>
        </button>

      </nav>
    </mat-sidenav>

    <!-- MAIN CONTENT -->
    <mat-sidenav-content class="app-content">

      <!-- TOP TOOLBAR -->
      <mat-toolbar class="app-toolbar">

        <!-- BURGER on mobile -->
        <button class="toolbar-icon-btn mobile-menu" (click)="sidenav.toggle()">
          <mat-icon>menu</mat-icon>
        </button>

        <span class="spacer"></span>

        <!-- ðŸ”µ ADMIN ONLY: Users -->
        <button class="toolbar-icon-btn"
                *ngIf="isAdmin()" 
                (click)="goUsers()">
          <mat-icon>group</mat-icon>
        </button>

        <!-- ðŸ”´ Logout -->
        <button class="toolbar-icon-btn" (click)="logout()">
          <mat-icon>logout</mat-icon>
        </button>

      </mat-toolbar>

      <main class="app-main">
        <router-outlet></router-outlet>
      </main>

    </mat-sidenav-content>
  </mat-sidenav-container>

} @else {
  <router-outlet></router-outlet>
}
