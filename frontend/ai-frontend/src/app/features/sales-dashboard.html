<div class="dashboard-page">
  <div class="page-header">
    <div class="header-left">
      <h2>Sales Overview</h2>
      <p class="subtitle">Rychlý přehled tržeb a výkonu produktů</p>
    </div>
  </div>

  <div class="kpi-grid">
    <div class="kpi-card">
      <div class="kpi-label">Celkové tržby</div>
      <div class="kpi-value">
        {{ totalSales | currency:'CZK':'symbol':'1.0-0' }}
      </div>
      <div class="kpi-trend positive">
        <span>↑ 12 %</span>
      </div>
    </div>

    <div class="kpi-card">
      <div class="kpi-label">Počet objednávek</div>
      <div class="kpi-value">
        {{ orderCount }}
      </div>
      <div class="kpi-trend neutral">
        <span>Stabilní</span>
      </div>
    </div>

    <div class="kpi-card">
      <div class="kpi-label">Průměrný košík</div>
      <div class="kpi-value">
        {{ avgBasket | currency:'CZK' }}
      </div>
      <div class="kpi-trend positive">
        <span>↑ 5 %</span>
      </div>
    </div>
  </div>

  <div class="content-grid">
    <div class="panel-card">
      <div class="panel-header">
        <h3>Tržby podle dne</h3>
      </div>
      <apx-chart
        [series]="salesSeries"
        [chart]="chartOptions.chart!"
        [xaxis]="chartOptions.xaxis!"
        [stroke]="chartOptions.stroke!">
      </apx-chart>
    </div>

    <div class="panel-card">
      <div class="panel-header">
        <h3>Top produkty podle tržeb</h3>
      </div>
      <apx-chart
        [series]="productSeries"
        [chart]="chartOptionsBar.chart!"
        [xaxis]="chartOptionsBar.xaxis!">
      </apx-chart>
    </div>

    <div class="panel-card table-card">
      <div class="panel-header">
        <h3>Detailní prodeje</h3>
      </div>

      <table class="glass-table">
        <thead>
          <tr>
            <th>Datum</th>
            <th>Produkt</th>
            <th>Tržba</th>
          </tr>
        </thead>
        <tbody>
          @for (sale of sales; track sale.id) {
            <tr>
              <td>{{ sale.date | date:'dd.MM.yyyy' }}</td>
              <td>{{ sale.product }}</td>
              <td>{{ sale.quantity * sale.price | currency:'CZK':'symbol':'1.0-0' }}</td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
